# ğŸ¯ LM Battle - AI Model Chat & Share Platform

ë‹¨ì¼ AI ëª¨ë¸ê³¼ ëŒ€í™”í•˜ê³ , í”„ë¡¬í”„íŠ¸ë¥¼ ê³µìœ í•˜ë©°, ì»¤ë®¤ë‹ˆí‹°ì™€ ì†Œí†µí•˜ëŠ” Web3 í”Œë«í¼

[![Next.js](https://img.shields.io/badge/Next.js-15-black)](https://nextjs.org/)
[![React](https://img.shields.io/badge/React-19-blue)](https://react.dev/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5-blue)](https://www.typescriptlang.org/)
[![Base](https://img.shields.io/badge/Base-Blockchain-blue)](https://base.org/)
[![Prisma](https://img.shields.io/badge/Prisma-6-green)](https://www.prisma.io/)

---

## ğŸ“‹ ëª©ì°¨

- [í”„ë¡œì íŠ¸ ì†Œê°œ](#-í”„ë¡œì íŠ¸-ì†Œê°œ)
- [ì£¼ìš” ê¸°ëŠ¥](#-ì£¼ìš”-ê¸°ëŠ¥)
- [ê¸°ìˆ  ìŠ¤íƒ](#-ê¸°ìˆ -ìŠ¤íƒ)
- [ì‹œì‘í•˜ê¸°](#-ì‹œì‘í•˜ê¸°)
- [í”„ë¡œì íŠ¸ êµ¬ì¡°](#-í”„ë¡œì íŠ¸-êµ¬ì¡°)
- [API ë¬¸ì„œ](#-api-ë¬¸ì„œ)
- [ë¼ì´ì„ ìŠ¤](#-ë¼ì´ì„ ìŠ¤)

---

## ğŸš€ í”„ë¡œì íŠ¸ ì†Œê°œ

LM Battleì€ Flock APIë¥¼ í™œìš©í•˜ì—¬ ë‹¤ì–‘í•œ AI ëª¨ë¸ê³¼ ëŒ€í™”í•˜ê³ , í¥ë¯¸ë¡œìš´ í”„ë¡¬í”„íŠ¸ë¥¼ ì»¤ë®¤ë‹ˆí‹°ì™€ ê³µìœ í•˜ë©°, ì¢‹ì•„ìš”ë¥¼ í†µí•´ ì¸ê¸° ì½˜í…ì¸ ë¥¼ ë°œê²¬í•  ìˆ˜ ìˆëŠ” í”Œë«í¼ì…ë‹ˆë‹¤.

### í•µì‹¬ ê°€ì¹˜

- **ê°„í¸í•¨**: ë‹¨ì¼ ëª¨ë¸ ì„ íƒìœ¼ë¡œ ì¦‰ì‹œ ëŒ€í™” ì‹œì‘
- **ê³µìœ **: í¥ë¯¸ë¡œìš´ ëŒ€í™”ë¥¼ ëŒ€ì‹œë³´ë“œì— ê²Œì‹œ
- **ì»¤ë®¤ë‹ˆí‹°**: ì¢‹ì•„ìš”ì™€ íƒœê·¸ë¡œ ì½˜í…ì¸  ë°œê²¬
- **íˆ¬ëª…ì„±**: Base ë¸”ë¡ì²´ì¸ ê¸°ë°˜ ì§€ê°‘ ì—°ë™

---

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

### ğŸ’¬ AI ì±„íŒ…
- ëœë¤ AI ëª¨ë¸ ì„ íƒ (Qwen 30B Instruct, Qwen 235B Thinking ë“±)
- ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ (íƒ€ì´í•‘ íš¨ê³¼)
- ë§ˆí¬ë‹¤ìš´ ë Œë”ë§ ë° ì½”ë“œ ë¸”ë¡ í•˜ì´ë¼ì´íŒ…
- ì±„íŒ… íˆìŠ¤í† ë¦¬ ìë™ ì €ì¥
- ì‘ë‹µ ë³µì‚¬ ê¸°ëŠ¥

### ğŸ“± ëŒ€ì‹œë³´ë“œ (ê²Œì‹œíŒ)
- í”„ë¡¬í”„íŠ¸ ê³µìœ  (ì œëª© + íƒœê·¸)
- íƒœê·¸ ê¸°ë°˜ í•„í„°ë§
- ì¢‹ì•„ìš” ì‹œìŠ¤í…œ
- ê²Œì‹œê¸€ ì‚­ì œ (ë³¸ì¸ë§Œ ê°€ëŠ¥)
- ê²Œì‹œê¸€ ìƒì„¸ ë³´ê¸°

### ğŸ† ë¦¬ë”ë³´ë“œ
- **ëª¨ë¸ ë­í‚¹**: ì±„íƒë¥ (ê²Œì‹œëœ ìˆ˜ / ì „ì²´ ë§¤ì¹˜ ìˆ˜) ê¸°ë°˜
- **ìœ ì € ë­í‚¹**: ì¢‹ì•„ìš” Ã— 10 ì ìˆ˜ ê¸°ë°˜
- ìœ ì € í´ë¦­ ì‹œ ì¸ê¸° ê²Œì‹œê¸€ ëª¨ë‹¬ í‘œì‹œ

### ğŸ‘¤ í”„ë¡œí•„
- ìœ ì € í†µê³„ (ì´ ê²Œì‹œê¸€, ì¢‹ì•„ìš”, ì ìˆ˜, ë ˆë²¨)
- ì¸ê¸° ê³µìœ  í”„ë¡¬í”„íŠ¸ (ì¢‹ì•„ìš” ìˆœ)
- USDC ì”ì•¡ ì¡°íšŒ
- Base ë„¤íŠ¸ì›Œí¬ ì •ë³´

### ğŸ” ì§€ê°‘ ì—°ê²°
- Privyë¥¼ í†µí•œ ê°„í¸í•œ ì§€ê°‘ ì—°ê²°
- ì´ë©”ì¼/ì†Œì…œ ë¡œê·¸ì¸ ì§€ì›
- Base Mainnet & Sepolia ì§€ì›

---

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

### Frontend
- **Framework**: Next.js 15 (App Router)
- **UI Library**: React 19
- **Styling**: Tailwind CSS + @tailwindcss/typography
- **Components**: Radix UI + Lucide Icons
- **Language**: TypeScript 5
- **Markdown**: react-markdown + remark-gfm

### Backend
- **Runtime**: Node.js + Express.js
- **Database**: PostgreSQL + Prisma ORM 6
- **AI API**: Flock AI (Streaming ì§€ì›)
- **Language**: TypeScript 5

### Web3
- **Authentication**: Privy
- **Blockchain**: Base (L2)
- **Wallet Integration**: Wagmi + Viem

### Development
- **Package Manager**: pnpm (Frontend), npm (Backend)
- **Dev Tools**: ts-node-dev
- **Version Control**: Git

---

## ğŸš€ ì‹œì‘í•˜ê¸°

### í•„ìˆ˜ ìš”êµ¬ì‚¬í•­

- Node.js 20+
- PostgreSQL 14+
- pnpm 8+
- Git

### ë°±ì—”ë“œ ì„¤ì •

```bash
# ë°±ì—”ë“œ ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd backend

# ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# í™˜ê²½ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
# .env íŒŒì¼ì„ ì—´ì–´ ì‹¤ì œ ê°’ì„ ì…ë ¥í•˜ì„¸ìš”

# ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜
npx prisma migrate dev

# ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run dev
```

### í”„ë¡ íŠ¸ì—”ë“œ ì„¤ì •

```bash
# í”„ë¡ íŠ¸ì—”ë“œ ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd frontend

# ì˜ì¡´ì„± ì„¤ì¹˜
pnpm install

# í™˜ê²½ë³€ìˆ˜ ì„¤ì •
cp env.template .env.local
# .env.local íŒŒì¼ì„ ì—´ì–´ ì‹¤ì œ ê°’ì„ ì…ë ¥í•˜ì„¸ìš”

# ê°œë°œ ì„œë²„ ì‹¤í–‰
pnpm dev
```

### í™˜ê²½ë³€ìˆ˜ ì„¤ì •

**Backend (.env)**
```env
DATABASE_URL="postgresql://username:password@localhost:5433/lmarena"
FLOCK_API_KEY=your_flock_api_key
PORT=4000
```

**Frontend (.env.local)**
```env
# Privy App ID (í•„ìˆ˜)
NEXT_PUBLIC_PRIVY_APP_ID=your_privy_app_id

# Backend API URL
NEXT_PUBLIC_API_URL=http://localhost:4000

# WalletConnect Project ID (ì„ íƒ)
NEXT_PUBLIC_WALLETCONNECT_PROJECT_ID=your_walletconnect_id
```

ë¸Œë¼ìš°ì €ì—ì„œ [http://localhost:3000](http://localhost:3000)ì„ ì—´ì–´ í™•ì¸í•˜ì„¸ìš”.

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
lmarena/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ prisma/
â”‚   â”‚   â”œâ”€â”€ schema.prisma        # ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ
â”‚   â”‚   â”œâ”€â”€ seed.ts              # ì´ˆê¸° ë°ì´í„°
â”‚   â”‚   â””â”€â”€ migrations/          # ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ modules/
â”‚   â”‚   â”‚   â”œâ”€â”€ arena/           # ì±„íŒ… & ê²Œì‹œê¸€ API
â”‚   â”‚   â”‚   â”œâ”€â”€ posts/           # ê²Œì‹œê¸€ CRUD
â”‚   â”‚   â”‚   â”œâ”€â”€ leaderboard/     # ë­í‚¹ ì‹œìŠ¤í…œ
â”‚   â”‚   â”‚   â”œâ”€â”€ users/           # ìœ ì € í”„ë¡œí•„
â”‚   â”‚   â”‚   â””â”€â”€ mock/            # í…ŒìŠ¤íŠ¸ìš© Mock API
â”‚   â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”‚   â”œâ”€â”€ flock.ts         # Flock AI í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â”‚   â””â”€â”€ prisma.ts        # Prisma í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â”œâ”€â”€ app.ts               # Express ì•± ì„¤ì •
â”‚   â”‚   â””â”€â”€ index.ts             # ì„œë²„ ì§„ì…ì 
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ ui/              # Radix UI ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ HomePage.tsx     # AI ì±„íŒ… í˜ì´ì§€
â”‚   â”‚   â”‚   â”œâ”€â”€ DashboardPage.tsx # ê²Œì‹œíŒ
â”‚   â”‚   â”‚   â”œâ”€â”€ ConversationPage.tsx # ê²Œì‹œê¸€ ìƒì„¸
â”‚   â”‚   â”‚   â”œâ”€â”€ LeaderboardPage.tsx # ë­í‚¹
â”‚   â”‚   â”‚   â”œâ”€â”€ ProfilePage.tsx  # í”„ë¡œí•„
â”‚   â”‚   â”‚   â”œâ”€â”€ CodeBlock.tsx    # ì½”ë“œ ë¸”ë¡ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â””â”€â”€ WalletButton.tsx # ì§€ê°‘ ì—°ê²°
â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â”œâ”€â”€ use-wallet.ts
â”‚   â”‚   â”‚   â””â”€â”€ use-deposit-pool.ts
â”‚   â”‚   â”œâ”€â”€ providers/
â”‚   â”‚   â”‚   â””â”€â”€ providers.tsx    # Privy Provider
â”‚   â”‚   â”œâ”€â”€ store/
â”‚   â”‚   â”‚   â””â”€â”€ wallet-store.ts
â”‚   â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ api.ts               # API í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â””â”€â”€ utils.ts
â”‚   â””â”€â”€ package.json
â””â”€â”€ README.md
```

---

## ğŸ“– API ë¬¸ì„œ

### Arena API
- `POST /arena/chat` - AI ì±„íŒ… ìƒì„±
- `POST /arena/chat/stream` - ìŠ¤íŠ¸ë¦¬ë° ì±„íŒ… (SSE)
- `POST /arena/post` - ê²Œì‹œê¸€ ì‘ì„±

### Posts API
- `GET /posts` - ê²Œì‹œê¸€ ëª©ë¡
- `GET /posts/:id` - ê²Œì‹œê¸€ ìƒì„¸
- `POST /posts/:id/like` - ì¢‹ì•„ìš” í† ê¸€
- `DELETE /posts/:id` - ê²Œì‹œê¸€ ì‚­ì œ

### Leaderboard API
- `GET /leaderboard/models` - ëª¨ë¸ ë­í‚¹
- `GET /leaderboard/users` - ìœ ì € ë­í‚¹

### Users API
- `GET /users/:walletAddress/profile` - ìœ ì € í”„ë¡œí•„

---

## ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

ì£¼ìš” í…Œì´ë¸”:
- **Model**: AI ëª¨ë¸ ì •ë³´
- **User**: ìœ ì € ì •ë³´ (walletAddress ê¸°ë°˜)
- **Prompt**: í”„ë¡¬í”„íŠ¸ í…ìŠ¤íŠ¸
- **Match**: ì±„íŒ… ì„¸ì…˜ (ëª¨ë¸ + í”„ë¡¬í”„íŠ¸)
- **Response**: AI ì‘ë‹µ
- **Post**: ê³µìœ ëœ ê²Œì‹œê¸€
- **PostLike**: ì¢‹ì•„ìš” ê¸°ë¡
- **Tag**: íƒœê·¸
- **PostTag**: ê²Œì‹œê¸€-íƒœê·¸ ê´€ê³„

---

## ğŸ”§ ì£¼ìš” ëª…ë ¹ì–´

### Frontend
```bash
pnpm dev          # ê°œë°œ ì„œë²„
pnpm build        # í”„ë¡œë•ì…˜ ë¹Œë“œ
pnpm lint         # ë¦°íŠ¸ ê²€ì‚¬
```

### Backend
```bash
npm run dev       # ê°œë°œ ì„œë²„
npx prisma studio # DB GUI
npx prisma migrate dev # ë§ˆì´ê·¸ë ˆì´ì…˜
```

---

## ğŸ¯ ì£¼ìš” ê¸°ëŠ¥ ìƒì„¸

### 1. AI ì±„íŒ… ì‹œìŠ¤í…œ
- **ëœë¤ ëª¨ë¸ ì„ íƒ**: ê° ì±„íŒ…ë§ˆë‹¤ ëœë¤ìœ¼ë¡œ AI ëª¨ë¸ ì„ íƒ
- **ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë°**: Server-Sent Events(SSE)ë¡œ ì‹¤ì‹œê°„ ì‘ë‹µ
- **ë§ˆí¬ë‹¤ìš´ ì§€ì›**: ì½”ë“œ ë¸”ë¡, í…Œì´ë¸”, ë¦¬ìŠ¤íŠ¸ ë“± ì™„ë²½ ë Œë”ë§
- **ì½”ë“œ ë³µì‚¬**: ì½”ë“œ ë¸”ë¡ì— ì›í´ë¦­ ë³µì‚¬ ë²„íŠ¼
- **íˆìŠ¤í† ë¦¬ ì €ì¥**: localStorageì— ìë™ ì €ì¥

### 2. ê²Œì‹œê¸€ ì‹œìŠ¤í…œ
- **ì œëª© í•„ìˆ˜**: 1-100ì ì œí•œ
- **íƒœê·¸ ì‹œìŠ¤í…œ**: #íƒœê·¸ í˜•ì‹ìœ¼ë¡œ ì…ë ¥ (ê³µë°±/ì‰¼í‘œ êµ¬ë¶„)
- **í•„í„°ë§**: íƒœê·¸ í´ë¦­ìœ¼ë¡œ í•„í„°ë§
- **ì¢‹ì•„ìš”**: ë¡œê·¸ì¸ ìœ ì €ë§Œ ê°€ëŠ¥, í† ê¸€ ë°©ì‹
- **ì‚­ì œ ê¶Œí•œ**: ì‘ì„±ìë§Œ ì‚­ì œ ê°€ëŠ¥

### 3. ë­í‚¹ ì‹œìŠ¤í…œ
- **ëª¨ë¸ ë­í‚¹**
  - ì±„íƒë¥  = (ê²Œì‹œëœ ìˆ˜ / ì „ì²´ ë§¤ì¹˜ ìˆ˜) Ã— 100
  - ì±„íƒë¥  ë†’ì€ ìˆœìœ¼ë¡œ ì •ë ¬
- **ìœ ì € ë­í‚¹**
  - ì ìˆ˜ = ì´ ì¢‹ì•„ìš” ìˆ˜ Ã— 10
  - ì ìˆ˜ ë†’ì€ ìˆœìœ¼ë¡œ ì •ë ¬
  - ì§€ê°‘ ì£¼ì†Œ í´ë¦­ â†’ ì¸ê¸° ê²Œì‹œê¸€ ëª¨ë‹¬

### 4. í”„ë¡œí•„ í˜ì´ì§€
- **ìœ ì € í†µê³„**: ì´ ê²Œì‹œê¸€, ì¢‹ì•„ìš”, ì ìˆ˜, ë ˆë²¨
- **ì¸ê¸° ê²Œì‹œê¸€**: ì¢‹ì•„ìš” ìˆœìœ¼ë¡œ ì •ë ¬ëœ ë³¸ì¸ ê²Œì‹œê¸€ ìƒìœ„ 10ê°œ
- **ì§€ê°‘ ì •ë³´**: USDC ì”ì•¡, ë„¤íŠ¸ì›Œí¬ ìƒíƒœ, ì£¼ì†Œ ë³µì‚¬

---

## ğŸ“„ ë¼ì´ì„ ìŠ¤

MIT License - ìì„¸í•œ ë‚´ìš©ì€ [LICENSE](LICENSE) íŒŒì¼ì„ ì°¸ê³ í•˜ì„¸ìš”.

---

## ğŸ”— ë§í¬

- **Base Chain**: [base.org](https://base.org/)
- **Privy**: [privy.io](https://privy.io/)
- **Flock AI**: [flock.io](https://flock.io/)

---

**Made with â¤ï¸ on Base**